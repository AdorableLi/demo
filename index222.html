<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>33333</title>
	<link rel="stylesheet" type="text/css" href="111.css">
	<script src="jquery-3.3.1.min.js" type="text/javascript"></script>
</head>
<body>
	<div onclick="testtime()">测试程序时间</div>
	<div class="name2">分割数组</div>
	<div onclick="age()">根据年龄重新构造数组</div>
	<div onclick="name()">显示名字</div>
	<div onclick="inputnum()">输入数字进行判断</div>
	<div onclick="whiletest()">while循环</div>
	<div onclick="nianlilv()">求年利率年数</div>
	<div onclick="jishuhe()">打印1-100之间所有奇数之和</div>
	<div onclick="beishuhe()">打印1-100之间所有7的倍数的个数和总和</div>
	<div onclick="shuixianhua()">水仙花</div>
	<div onclick="zhishu()">质数</div>
	<div onclick="xinghao()">打印星号</div>
	<div onclick="chengfabiao()">打印九九乘法表</div>
	<div onclick="allzhishu()">打印1-100之间所有质数</div>
	<div onclick="tiaoguo()">跳过输出3</div>
	<div onclick="jsonobject()">测试添加json对象</div>
	<div onclick="yuanmianji()">计算圆的面积</div>
	<div class="lijizhixing"></div>
	<div onclick="diaoyongcrobj()">批量创建对象</div>
	<div onclick="delfunrep()">删除数组中的重复数据：1,2,1,4,3,3,4,6,5,6</div>
	<script>
		//	测试程序时间
		function testtime(){
			console.time("test");
			allzhishu();
			console.timeEnd("test");
		}


		$(".name2").click(function () {
			$.ajax({
			　　	type: 'get', 
			    url: "http://47.101.219.155:8080/class/department",
			    success: function(data) {
			    	console.log(data);
			    },
			    error: function () {
			    	console.log("chucuole");
			    },
			})
		})

		//	分割数组数据
		let list = [{name: 'x',age: 18},{name: 'y',age: 19},{name: 'x', age: 19}];

		//	根据年龄重新构造数组
		function age(){
			// begin
			let res = {};
			for(var i = 0; i < list.length; i++) {
			    if (!res[list[i].age]) {
			        res[list[i].age] = [];
			        console.log("走这儿了"+i)
			    }
			    res[list[i].age].push(list[i]);
			    // a = Boolean(!res[list[i].age]);
			    // b = Boolean(!res[18]);
			    // c = res[18];
			    // console.log(a,b,c);
				console.log(res);
			}
			// end
		}
		
		//	显示名字
		function name(){
			// begin
			let names = [];
			for(var i = 0; i < list.length; i++) {
			    if (names.indexOf(list[i].name) === -1) {
			        names.push(list[i].name);
			    }
			}
			console.log(names);
			// end
		}

		// 输入数值进行判断
		function inputnum(){
			let num = prompt("请输入数值:","");
			//	判断数值是否为正数
			// if(num > 0){
			// 	alert("是个正数");
			// }else if(num == ""){
			// 	alert("啥都没输入");
			// }else if(num == 0){
			// 	alert("是0");
			// }else if(num < 0){
			// 	alert("是个负数");
			// }else{
			// 	alert("不是什么正经数");
			// }

			//	输入数值显示中文
			switch(num){
				case "1":
					console.log("一");
					break;
				case "2":
					console.log("二");
					break;
				case "3":
					console.log("三");
					break;
				default:
					console.log("暂未收录此数字");
					break;
			}
		}

		function whiletest(){
			let i = 0;
			while(i <= 4){
				i++;
				console.log(i);
			}

			let p = 10
			do{
				p++;
				console.log(p);
			}
			while(p <= 14)

			for(let k = 20;k<24;k++){
				console.log(k);
			}
		}

		//	年利率为5%，从1000增长到5000需要多少年
		function nianlilv(){
			let i = 1000, p = 0;
			while(i<=5000){
				i *= 1.05;
				p++;
			}
			console.log("需要"+p+"年");
		}

		//	打印1-100之间所有奇数之和
		function jishuhe(){
			let p = 0;
			for(let i = 0;i <= 100;i++){
				if(i % 2 == 1){
					p += i;
				}
			}
			console.log("奇数之和为"+p);
		}

		//	打印1-100之间所有7的倍数的个数和总和
		function beishuhe(){
			let geshu = 0,zonghe = 0;
			for(let i = 0;i <= 100;i++){
				if(i % 7 == 0){
					geshu++;
					zonghe += i;
				}
			}
			console.log("个数为："+geshu+","+"总和为："+zonghe);
		}

		//	水仙花数是指一个3位数，它的每个位上的数字的3次幂之和等于它本身。
		//	例如1^3+5^3+3^3=153,请打印所有水仙花数
		function shuixianhua(){
			for(let i = 100;i < 1000;i++){
				let bai = parseInt(i/100);
				let shi = parseInt((i - bai * 100)/10);
				// let ge = i - bai * 100 - shi * 10;
				let ge = i % 10;
				num = Math.pow(bai,3) + Math.pow(shi,3) + Math.pow(ge,3);
				if(num == i){
					console.log(i);
				}
			}
		}

		//	从页面中接受一个数字，判断是否为质数
		function zhishu(){
			let flag = true;
			let num = prompt("请输入一个数字","");
			if(num <= 1){
				console.log(num + "不是质数");
			}else{
				for(let i = 2;i < num;i++){
					if(num%i == 0){
						flag = false;
					}
				}
			}
			//	使用flag是因为在上面的for循环中，若直接使用if、else，则每次判断一个数就出结果
			//	而不是判断完所有的数后再出结果
			if(flag == true){
				console.log(num + "是质数");
			}else{
				console.log(num + "不是质数");
			}
		}

		//	打印星号
		function xinghao(){
			//	5X5
			document.write("5X5<br />")
			for(let i = 0;i < 5;i++){
				 for(let p = 0;p < 5;p++){
				 	document.write("*");
				 }
				 document.write("<br />")
			}

			//	依次递增
			document.write("依次递增<br />")
			for(let i = 0;i < 5;i++){
				 for(let p = 0;p <= i;p++){
				 	document.write("*");
				 }
				 document.write("<br />")
			}

			//	依次递减
			document.write("依次递减<br />")
			for(let i = 0;i < 5;i++){
				 for(let p = 0;p < 5 - i;p++){
				 	document.write("*");
				 }
				 document.write("<br />")
			}
		}

		//	打印九九乘法表
		function chengfabiao(){
			for(let i = 1;i <= 9;i++){
				for(let p = 1;p <= i;p++){
					document.write(p + "X" + i + "=" + i*p + "&nbsp&nbsp");
				}
				document.write("<br />")
			}
		}

		//	打印1-100之间所有质数
		function allzhishu(){
			let num = 0;
			for(let i = 2;i <= 100;i++){
				let flag = true;
				let fang = Math.sqrt(i);//	使用Math.sqrt()开方，简化对质数的寻找
				for(let p = 2;p <= fang;p++){
					if(i % p == 0){
						flag = false;
						break;
					}
				}
				if(flag == true){
					console.log(i);
					num++;
				}
			}
			console.log("共有"+num+"个质数")
		}

		//	continue跳过当次循环(当执行语句在continue之前时无效)
		function tiaoguo(){
			for(let i = 0;i < 5;i++){
				if(i == 3){
					continue;
				}
				console.log(i);
			}
		}

		//	测试直接添加json对象
		function jsonobject(){
			let jsonone = new Object();
			let jsontwo = {};//等同于let json = new Object();
			jsonone.name = "tom";
			jsonone["123"] = "456";
			jsontwo.age = "19";
			jsontwo.sex = "男";
			console.log(jsonone,jsontwo);
			delete jsontwo.sex;
			console.log(jsonone,jsontwo);
			console.log(jsonone["123"]);
		}

		//	计算圆的面积
		function yuanmianji(){
			let i = prompt("请输入圆的半径","");
			let mianji = (3.14 * i * i).toFixed(2);
			console.log(mianji);
		}

		//	立即执行函数(2+3)
		(function(a,b){
			let num = a + b;
			$(".lijizhixing").html("立即执行函数2+3的和为："+num);
		})(2,3);

		//	批量创建对象(调用时加上new即为构造函数，一般构造函数首字母大写)
		function Createobj(name,age,sex){
			//let obj = {};
			this.name = name;
			this.age = age;
			this.sex = sex;
			// this.coninfo = coninfotest;
			//return obj;
		}
		//	此方法会污染公共命名区域，因此采用prototype（即原型对象）
		// function coninfotest(){
		// 	console.log(this.name,this.age,this.sex);
		// }
		//	prototype是构造函数的原型对象，为公共区域，可供其所属构造函数的所有实例调用
		Createobj.prototype.coninfo = function(){
			console.log(this.name,this.age,this.sex);
			this.info = "测试info";//原型中添加属性，实例可以调用，但是不拥有
		}
		function diaoyongcrobj(){
			let addinfo1 = new Createobj("lishuyu","23","nan");
			let addinfo2 = new Createobj("ahsunas","32","nan");
			addinfo1.ownname = "gutangjie";
			addinfo1.coninfo();
			addinfo2.coninfo();
			// console.log(addinfo1.coninfo() == addinfo2.coninfo());
			console.log("info" in addinfo1);//此方法不能检查其自身是否含有此属性
			//使用hasOwnProperty检查实例自身是否含有某个属性
			console.log(addinfo1.info,Createobj.prototype.info);
			delete Createobj.prototype.info;
			console.log(addinfo1.hasOwnProperty("info"),addinfo1.info,Createobj.prototype.info);
			console.log(addinfo1.hasOwnProperty("ownname"));
			console.log(addinfo1.__proto__.__proto__.hasOwnProperty("hasOwnProperty"));
			console.log(addinfo1);
		};

		//	删除数组中的重复数据
		function delfunrep(){
			let arr = [1,2,1,4,3,3,4,6,5,6];
			//	获取数组中的每一个元素
			for(let i = 0;i < arr.length;i++){
				//	获取当前元素后的所有元素
				for(let p = i + 1;p < arr.length;p++){
					//	如果当前元素后有与于其自身重复的元素则删除
					if(arr[i] == arr[p]){
						arr.splice(p,1);
						//	为了防止两个重复的元素紧靠着，所以j--，重新回到上一个位置检查是否重复
						p--
					}
				}
			}
			console.log(arr);
		}
	</script>
</body>
</html>


<!-- 使用本地地址对接接口 -->